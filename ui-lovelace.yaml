custom_header:
  background: '#1E2022'
  compact_mode: true
  editor_warnings: false
  hide_header: false
  hidden_tab_redirect: false
  disable_sidebar: true
  cards:
  
#############################   RESOURCES   ###################################
resources:
  - type: module
    url: /hacsfiles/lovelace-xiaomi-vacuum-map-card/xiaomi-vacuum-map-card.js
  - type: module
    url: /hacsfiles/lovelace-card-mod/card-mod.js
  - type: module
    url: /hacsfiles/custom-header/custom-header.js
  - type: module
    url: /local/js/text-element.js?v=0.0.2
  - type: module
    url: /local/js/config-template-card.js?
  - type: module
    url: /browser_mod.js
  - type: module
    url: /local/js/bar-card.js
  - type: module
    url: /local/js/button-entity-row.js
  - type: module
    url: /local/js/circle-sensor-card.js
  - type: module
    url: /local/js/light-entity-card.js
  - type: module
    url: /hacsfiles/lovelace-card-templater/lovelace-card-templater.js
  - type: module
    url: /local/js/lovelace-hui-element.js
  - type: module
    url: /local/js/layout-card.js
  - type: module
    url: /local/js/mini-graph-card-bundle.js
  - type: module
    url: /local/js/mini-media-player-bundle.js
  - type: module
    url: /local/js/vertical-stack-in-card.js
  - type: module
    url: /local/js/popup-backdrop-filter.js
  - type: module
    url: /local/js/upcoming-media-card.js
  - type: module
    url: /local/js/weather-card-chart.js
  - type: module
    url: /local/js/simple-weather-card-bundle.js
  - type: module
    url: /local/js/homekit-panel-card.js
  - type: module
    url: /local/js/auto-entities.js
  - type: module
    url: /local/js/now-playing-card.js
  - type: module
    url: /local/js/button-card.js  
  - type: module
    url: /local/js/buien-rain-card.js
  - type: module
    url: /local/js/light-slider-card-lajv.js
  - type: module
    url: /local/js/slider-entity-row.js
  - type: module
    url: /local/js/kisok.js
  - type: module   
    url: /hacsfiles/sidebar-card/sidebar-card.js      

    
##########################      SIDEBAR        ##############################    
sidebar:
    hideTopMenu: false
    digitalClock: true
    date: true
    dateFormat: 'DD MMM YYYY'
    width: 
      mobile: 0
      tablet: 15
      desktop: 15
    style: |
      :host {
        --sidebar-background: #1E2022;
        --sidebar-text-color: rgba(255,255,255,0.7);
        padding-top: 3vh;
        display: none;
      }  
      .sidebar-inner h1, h2 {
          padding: 0 0 0 20px !important;
      }
      .sidebar-inner h1 {
          font-size: 3.5vw !important;
          line-height: 3.5vw !important;
      }
        .sidebar-inner h2 {
          font-size: 1.5vw !important;
          line-height: 1.5vw !important;          
      }
      .sidebarMenu{
          border: none !important;
      }
    sidebarMenu:
    - action: navigate
      navigation_path: "/lovelace/0"
      name: "Floor Plan"
      icon: "mdi:floor-plan"
      active: true
    - action: navigate
      navigation_path: "/lovelace/1"
      name: "Cleaning"        
      icon: "mdi:robot-vacuum"
    - action: navigate
      navigation_path: "/lovelace/2"
      name: "Devices"
      icon: "mdi:home"
    - action: navigate
      navigation_path: "/lovelace/3"
      name: "Media"  
      icon: "mdi:play-box"
    - action: navigate
      navigation_path: "/lovelace/4"
      name: "Data"        
      icon: "mdi:chart-line"
      
    bottomCard:  
      type: horizontal-stack
      cardOptions:
        cards:
          - type: 'custom:simple-weather-card' 
            entity: weather.weather_2
            name: ' '
            style: |
                :host {
                  background: none !important;
                }
                ha-card {
                  background: none !important;
                  box-shadow: none !important;
                  color: rgba(155,155,155,0.7) !important;
                  margin-bottom: 40px;
                }
      
views:
  - title: Floor plan
    icon: 'mdi:floor-plan'
    id: kfloor_plan
    panel: true
    background: 'rgba(42, 46, 48, 1)'
    cards:
 
###################   config-template-card    #####################
 
        # To use the styling templates for individual lights, I have used 
        # Config Template Card. Config template card passes the entities it
        # uses into the card. Make sure you change these entities below to  
        # your own and include any light entities you use above.
        
        # To understand why, check: https://github.com/iantrich/config-template-card

      - type: "custom:config-template-card"
        entities:
          - light.graeme_s_lamp
          - light.carol_s_lamp
          - switch.cristo_lamp
          - media_player.living_room_tv
          - device_tracker.36_e6_85_88_24_fb
          - device_tracker.mbp13c0inamotta
          - device_tracker.mbp_de_ana_66
          - cover.sonoff_1000d66ac3
          - cover.sonoff_1000d66886
          - cover.sonoff_1000d67323
          - sensor.ambient_light_calc
          - sensor.weather_temperature
          - sun.sun
          - sensor.time
          - input_number.daylight_tester
          - sensor.living_room_brightness
          - sensor.kitchen_brightness
          - sensor.bedroom_brightness
          - binary_sensor.living_room_pir_2
          - vacuum.roborock_s5_max
          - camera.xiaomi_cloud_map_extractor

        card:    
#######################   Picture Elements Card    ############################
          type: 'custom:hui-element'  
          card_type: 'picture-elements'
          image: /local/floorplan/background.png
          style: |
            ha-card:first-child {
              background: transparent;

              left: 0%;
              width: 100%;   
              height: 110%;
              padding-top: 2%;
              padding-left: 8%;
            }
          elements:
####################    NIGHT BASE FLOORPLAN OVERLAY    #########################
            - action: none
              entity: none
              hold_action:
                action: none
              image: /local/floorplan/apartment-dark-1.png
              style:
                top: 50%
                left: 40%
                width: 140%      
                background: 'rgba(42, 46, 48, 1)'
              tap_action:
                action: none  
              type: image
####################    DAY BASE FLOORPLAN OVERLAY    #########################
            - action: none
              entity: input_number.daylight_tester
              hold_action:
                action: none
              image: /local/floorplan/apartment-light.png
              style:
                mix-blend-mode: lighten
                opacity: '${(states["sensor.brightness"].state) / 100}'               
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
################################## ROBOROCK ###################################  
            - type: image
              entity: camera.xiaomi_cloud_map_extractor
              camera_image: "${states['vacuum.roborock_s5_max'].state === 'docked' ? '' : 'camera.xiaomi_cloud_map_extractor'}"
              #camera_view: ""
              style: 
                transform: rotate(180deg) scale(1.1)
                mix-blend-mode: lighten
                top: -42%
                left: -23.5%
                opacity: 80%
                display: "${states['vacuum.roborock_s5_max'].state === 'docked' ? 'none' : 'block'}"
                #opacity: "${states['vacuum.roborock_s5_max'].state === 'docked' ? '0' : '1.0'}"
              action: none 
#############    WINDOW BLINDS - BLENDED IMAGE OVERLAYS    ################  
            # BEDROOM #
            - action: none
              entities: 
              - cover.sonoff_1000d66ac3 
              - sensor.bedroom_brightness
              hold_action:
                action: none
              style:
                mix-blend-mode: lighten
                opacity: '${states["sensor.bedroom_brightness"].state / 100}'    
                display: '${states["cover.sonoff_1000d66ac3"].attributes.current_position > 90 ? "block" : "none"}'
                top: 50%
                left: 40%
                width: 140%   
              tap_action:    
                action: none
              type: image
              image: /local/floorplan/bedroom-blinds.png           
            # BEDROOM PARTIAL #
            - action: none
              entities: 
              - cover.sonoff_1000d66ac3 
              - sensor.bedroom_brightness
              hold_action:
                action: none
              style:
                mix-blend-mode: lighten
                opacity: '${states["sensor.bedroom_brightness"].state / 100}'    
                display: '${states["cover.sonoff_1000d66ac3"].attributes.current_position < 91 ? "block" : "none"}'
                top: 50%
                left: 40%
                width: 140%   
              tap_action:    
                action: none
              type: image
              image: /local/floorplan/bedroom-blinds-part.png     
            # LIVING ROOM #
            - action: none
              entities: 
              - cover.sonoff_1000d67323
              - sensor.living_room_brightness
              hold_action:
                action: none
              style:
                mix-blend-mode: lighten
                opacity: '${states["sensor.living_room_brightness"].state / 100}'    
                display: '${states["cover.sonoff_1000d67323"].attributes.current_position > 90 ? "block" : "none"}'
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
              image: /local/floorplan/living-room-blinds.png
            # LIVING ROOM PARTIAL #
            - action: none
              entities: 
              - cover.sonoff_1000d67323
              - sensor.living_room_brightness
              hold_action:
                action: none
              style:
                mix-blend-mode: lighten
                opacity: '${states["sensor.living_room_brightness"].state / 100}'    
                display: '${states["cover.sonoff_1000d67323"].attributes.current_position < 91 ? "block" : "none"}'
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
              image: /local/floorplan/living-room-blinds-part.png              
            # KITCHEN #
            - action: none
              entities: 
              - cover.sonoff_1000d66886
              - sensor.kitchen_brightness
              hold_action:
                action: none
              style:
                mix-blend-mode: lighten
                opacity: '${states["sensor.kitchen_brightness"].state / 100}'    
                display: '${states["cover.sonoff_1000d66886"].state != "closed" ? "block" : "none"}'  
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
              image: /local/floorplan/kitchen-blinds.png

              
#############    INDIVIDUAL LIGHTS - BLENDED IMAGE OVERLAYS    ################    
            # GRAEME'S DESK #
            - action: none
              entity: light.graeme_s_lamp
              hold_action:
                action: none
              image: /local/floorplan/graeme-lamp.png
              style:
                filter: '${"brightness(60%) sepia(100%) hue-rotate(" + (states["light.graeme_s_lamp"].attributes.hs_color ? states["light.graeme_s_lamp"].attributes.hs_color[0]-45 : -45) + "deg) saturate(" +  (states["light.graeme_s_lamp"].attributes.hs_color ? (states["light.graeme_s_lamp"].attributes.hs_color[1] * 3) : 100)+ "%)"}' 
                mix-blend-mode: lighten
                opacity: "${states['light.graeme_s_lamp'].state === 'on' ? (states['light.graeme_s_lamp'].attributes.brightness / 255) : '0'}"
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
            # CAROL'S DESK #
            - action: none
              entity: light.carol_s_lamp
              hold_action:
                action: none
              image: /local/floorplan/carol-lamp.png
              style:
                filter: '${"brightness(100%) sepia(" + (states["light.carol_s_lamp"].attributes.color_temp ? states["light.carol_s_lamp"].attributes.color_temp/3.7 : 100) + "%) saturate(150%)"}' 
                mix-blend-mode: lighten
                opacity: "${states['light.carol_s_lamp'].state === 'on' ? (states['light.carol_s_lamp'].attributes.brightness / 255) : '0'}"
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
            # CRISTO LAMP #
            - action: none
              entity: switch.cristo_lamp
              hold_action:
                action: none
              image: /local/floorplan/cristo-lamp.png
              style:
                mix-blend-mode: lighten
                opacity: "${states['switch.cristo_lamp'].state === 'on' ? '1.0' : '0'}"
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
            # TELEVISION #
            - action: none
              entity: media_player.living_room_tv
              hold_action:
                action: none
              image: /local/floorplan/television.png
              style:
                mix-blend-mode: lighten
                opacity: "${states['media_player.living_room_tv'].state != 'off' ? '1.0' : '0'}"
                filter: '${"hue-rotate(" + states["sensor.tv_colour"].state  + "deg) brightness(100%)"}' 
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
            # GRAEME LAPTOP #
            - action: none
              entity: device_tracker.36_e6_85_88_24_fb
              hold_action:
                action: none
              image: /local/floorplan/graeme-laptop.png
              style:
                mix-blend-mode: lighten
                opacity: "${states['device_tracker.36_e6_85_88_24_fb'].state === 'home' ? '1.0' : '0'}"
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none
              type: image
            # CAROL HOME LAPTOP #
            - action: none
              entity: device_tracker.mbp_de_ana_66
              hold_action:
                action: none
              image: /local/floorplan/carol-laptop.png
              style:
                mix-blend-mode: lighten
                opacity: "${states['device_tracker.mbp_de_ana_66'].state === 'home' ? '1.0' : '0'}"
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none              
              type: image
            # CAROL WORK LAPTOP #
            - action: none
              entity: device_tracker.mbp13c0inamotta
              hold_action:
                action: none
              image: /local/floorplan/carol-laptop.png
              style:
                mix-blend-mode: lighten
                opacity: "${states['device_tracker.mbp13c0inamotta'].state === 'home' ? '1.0' : '0'}"
                top: 50%
                left: 40%
                width: 140%   
              tap_action:
                action: none              
              type: image

    #########################           ICONS    #########################
            # CAROL'S LAMP #
            - entity: light.carol_s_lamp
              icon: 'mdi:lamp'
              style:
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 51%        
                top: 41.3%
              tap_action:
                action: toggle
              type: state-icon
            # GRAEME'S LAMP #
            - entity: light.graeme_s_lamp
              icon: 'mdi:lamp'
              style:
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 38%        
                top: 41.3%
              tap_action:
                action: toggle
              type: state-icon
            # CRISTO LAMP #
            - entity: switch.cristo_lamp
              icon: 'mdi:lamp'
              style:
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 27%        
                top: 96%
              tap_action:
                action: toggle
              type: state-icon
            # ROBOROCK #
            - type: state-icon
              entity: vacuum.roborock_s5_max
              icon: 'mdi:robot-vacuum'
              style:
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 50.5%        
                top: 94.5%
              tap_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  title: Rob the Roborock
                  large: false
                  deviceID:
                    - this
                    - dashboard
                  style: 
                    width: 60%
                  hide_header: true
                  card:
                        type: vertical-stack
                        cards:
                          - type: 'custom:card-templater'
                            entities:
                                  - vacuum.roborock_s5_max
                            card:
                                  type: picture-elements
                                  image: "/local/1604233684166.jpg"
                                  elements:
                                    - type: state-label
                                      entity: vacuum.roborock_s5_max
                                      style:
                                        left: 0
                                        right: 0
                                        bottom: 0
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: icon
                                      title: Battery
                                      icon_template: '{{ state_attr("vacuum.roborock_s5_max", "battery_icon") }}'
                                      style:
                                        right: 171px
                                        bottom: 0
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: state-label
                                      title: Battery Level
                                      entity: sensor.roborock_s5_max_battery
                                      style:
                                        right: 120px
                                        bottom: 0px
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: icon
                                      title: Locate Vacuum
                                      icon: 'mdi:map-marker'
                                      style:
                                        right: 90px
                                        bottom: 0
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                      tap_action:
                                        action: call-service
                                        service: vacuum.locate
                                        service_data:
                                          entity_id: vacuum.roborock_s5_max
                                    - type: icon
                                      title: Clean Apartment
                                      icon: 'mdi:broom'
                                      tap_action:
                                        action: call-service
                                        service: vacuum.start
                                        service_data:
                                          entity_id: vacuum.roborock_s5_max
                                      style:
                                        right: 0
                                        bottom: 0
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: icon
                                      title: Return To Base
                                      icon: 'mdi:home-map-marker'
                                      tap_action:
                                        action: call-service
                                        service: vacuum.return_to_base
                                        service_data:
                                          entity_id: vacuum.roborock_s5_max
                                      style:
                                        right: 45px
                                        bottom: 0
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: state-label
                                      entity: sensor.roborock_s5_max_last_cleaned
                                      prefix: 'Last ran '
                                      suffix: ' ago'
                                      style:
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        bottom: 85%
                                        padding: 8px
                                        font-size: 16px
                                        line-height: 2px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: state-label
                                      prefix: "Ran "
                                      suffix: "x"
                                      entity: sensor.roborock_s5_max_lifetime_cleaning_count
                                      style:
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        bottom: 85%
                                        right: 0px
                                        padding: 8px
                                        font-size: 16px
                                        line-height: 2px
                                        color: white
                                        transform: translate(0%,0%)
                                        width: 25%
                                    - type: state-label
                                      #prefix: "Ran for "
                                      suffix: " hrs"
                                      entity: sensor.roborock_s5_max_lifetime_cleaning_time
                                      style:
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        bottom: 72%
                                        right: 0px
                                        padding: 8px
                                        font-size: 16px
                                        line-height: 2px
                                        color: white
                                        transform: translate(0%,0%)
                                        width: 25%
                                    - type: state-label
                                      entity: sensor.roborock_s5_max_lifetime_cleaned_area
                                      #prefix: "Cleaned "
                                      style:
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        bottom: 59%
                                        right: 0px
                                        padding: 8px
                                        font-size: 16px
                                        line-height: 2px
                                        color: white
                                        transform: translate(0%,0%)
                                        width: 25%
                          - type: 'custom:card-templater'
                            card:
                              type: entities
                              show_header_toggle: false
                              entities:
                                - input_select.vacuum_room_select
                                - input_select.vacuum_room_repeat
                                - type: call-service
                                  service: mqtt.publish
                                  service_data:
                                    topic: /nodered/vacuum_room
                                    payload_template: >-
                                      {
                                        "room": "{{ states.input_select.vacuum_room_select.state }}",
                                        "repeat": {{ states.input_select.vacuum_room_repeat.state }}
                                      }
                                  name: " "
                                  icon: " "
                            entities:
                              - input_select.vacuum_room_select
                              - input_select.vacuum_room_repeat
                          - type: horizontal-stack
                            cards:
                                - type: picture-elements
                                  image: /local/side_brush.png
                                  elements:
                                    - type: state-label
                                      entity: sensor.roborock_s5_max_side_brush_remaining
                                      title: '% Remaining Until Side Brush Should Be Replaced'
                                      style:
                                        font-size: 30px
                                        color: orange
                                        left: 0px
                                        right: 0px
                                        bottom: 0px
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        transform: translate(0%,0%)
                                    - type: state-label
                                      title: Hours Remaining Until Side Brush Should Be Replaced
                                      entity: sensor.roborock_s5_max_side_brush_hrs_remaining
                                      suffix: ' left'
                                      style:
                                        right: 0px
                                        bottom: 0px
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: icon
                                      icon: mdi:restart
                                      title: Reset Hours
                                      tap_action:
                                        action: call-service
                                        service: vacuum.send_command
                                        service_data:
                                          entity_id: vacuum.roborock_s5_max
                                          command: reset_consumable
                                          params: ['side_brush_work_time']
                                        confirmation:
                                          text: Are you sure you want to reset the hours remaining counter for replacing the side brush?
                                      style:
                                        top: 0px
                                        right: 0px
                                        padding: 7px
                                        transform: translate(0%,0%)
                                - type: picture-elements
                                  image: /local/main_brush.png
                                  elements:
                                    - type: state-label
                                      title: '% Remaining Until Main Brush Should Be Replaced'
                                      entity: sensor.roborock_s5_max_main_brush_remaining
                                      style:
                                        font-size: 30px
                                        color: orange
                                        left: 0px
                                        right: 0px
                                        bottom: 0px
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        transform: translate(0%,0%)
                                    - type: state-label
                                      title: 'Hours Remaining Until Main Brush Should Be Replaced'
                                      entity: sensor.roborock_s5_max_main_brush_hrs_remaining
                                      suffix: ' left'
                                      style:
                                        right: 0px
                                        bottom: 0px
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: icon
                                      icon: mdi:restart
                                      title: Reset Hours
                                      tap_action:
                                        action: call-service
                                        service: vacuum.send_command
                                        service_data:
                                          entity_id: vacuum.roborock_s5_max
                                          command: reset_consumable
                                          params: ['main_brush_work_time']
                                        confirmation:
                                          text: Are you sure you want to reset the hours remaining counter for replacing the main brush?
                                      style:
                                        top: 0px
                                        right: 0px
                                        padding: 7px
                                        transform: translate(0%,0%)
                          - type: horizontal-stack
                            cards:                
                                - type: picture-elements
                                  image: /local/sensors.png
                                  elements:
                                    - type: state-label
                                      entity: sensor.roborock_s5_max_sensors_remaining
                                      title:  "% Remaining Until Sensors Should Be Cleaned"
                                      style:
                                        font-size: 30px
                                        color: orange
                                        left: 0px
                                        right: 0px
                                        bottom: 0px
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        transform: translate(0%,0%)
                                    - type: state-label
                                      title:  "Hours Remaining Until Sensors Should Be Cleaned"
                                      entity: sensor.roborock_s5_max_sensors_hrs_remaining
                                      suffix: ' left'
                                      style:
                                        right: 0px
                                        bottom: 0px
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: icon
                                      icon: mdi:restart
                                      title: Reset Hours
                                      tap_action:
                                        action: call-service
                                        service: vacuum.send_command
                                        service_data:
                                          entity_id: vacuum.roborock_s5_max
                                          command: reset_consumable
                                          params: ['sensor_dirty_time']
                                        confirmation:
                                          text: Are you sure you want to reset the hours remaining counter for cleaning the sensors?
                                      style:
                                        top: 0px
                                        right: 0px
                                        padding: 7px
                                        transform: translate(0%,0%)
                                - type: picture-elements
                                  image: /local/filter.png
                                  elements:
                                    - type: state-label
                                      title: '% Remaining Until Filter Should Be Replaced'
                                      entity: sensor.roborock_s5_max_filter_remaining
                                      style:
                                        font-size: 30px
                                        color: orange
                                        left: 0px
                                        right: 0px
                                        bottom: 0px
                                        background-color: "rgba(0, 0, 0, 0.3)"
                                        transform: translate(0%,0%)
                                    - type: state-label
                                      title: 'Hours Remaining Until Filter Should Be Replaced'
                                      entity: sensor.roborock_s5_max_filter_hrs_remaining
                                      suffix: ' left'
                                      style:
                                        right: 0px
                                        bottom: 0px
                                        padding: 10px
                                        font-size: 16px
                                        line-height: 16px
                                        color: white
                                        transform: translate(0%,0%)
                                    - type: icon
                                      icon: mdi:restart
                                      title: Reset Hours
                                      tap_action:
                                        action: call-service
                                        service: vacuum.send_command
                                        service_data:
                                          entity_id: vacuum.roborock_s5_max
                                          command: reset_consumable
                                          params: ['filter_work_time']
                                        confirmation:
                                          text: Are you sure you want to reset the hours remaining counter for replacing the filter?
                                      style:
                                        top: 0px
                                        right: 0px
                                        padding: 7px
                                        transform: translate(0%,0%)             
############################### BLINDS #######################    
            # BEDROOM BLINDS #   
            - entity: sensor.bedroom_position 
              suffix: '%'
              style:
                top: 22%
                left: 67%
                color: 'rgba(255,255,255,0.7)'
                font-size: 0.8vw
              type: state-label           
              tap_action:
                action: none 
            - entity: cover.sonoff_1000d66ac3 
              icon: 'mdi:blinds'
              style:
                '--paper-item-icon-active-color': 'rgba(255,255,255,0.3)' 
                '--paper-item-icon-color': 'black'
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 64%        
                top: 22%
              tap_action:
                action: more-info
              type: state-icon

            # LIVING ROOM BLINDS # 
            - entity: sensor.living_room_position 
              suffix: '%'
              style:
                top: 46%
                left: 67%
                color: 'rgba(255,255,255,0.7)'
                font-size: 0.8vw
              type: state-label
              tap_action:
                action: none  
            - entity: cover.sonoff_1000d67323
              icon: 'mdi:blinds'
              style:
                '--paper-item-icon-active-color': 'rgba(255,255,255,0.3)' 
                '--paper-item-icon-color': 'black'
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 64%        
                top: 46%
              tap_action:
                action: more-info
              type: state-icon
         
            # KITCHEN BLINDS #    
            - entity: sensor.kitchen_position
              suffix: '%'
              style:
                top: 57%
                left: 75%
                color: 'rgba(255,255,255,0.7)'
                font-size: 0.8vw
              type: state-label     
              tap_action:
                action: none            
            - entity: cover.sonoff_1000d66886
              icon: 'mdi:blinds'
              style:
                '--paper-item-icon-active-color': 'rgba(255,255,255,0.3)' 
                '--paper-item-icon-color': 'black'
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 72%        
                top: 57%
              tap_action:
                action: more-info
              type: state-icon   
              
######################        CLOCK           #############################
            - entity: cover.sonoff_1000d66886
              icon: 'mdi:clock-outline'
              style:
                '--paper-item-icon-active-color': '#44739e' 
                '--paper-item-icon-color': '#44739e'
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 50%        
                top: 29%
              type: state-icon  
              tap_action:
                action: call-service
                service: browser_mod.popup
                service_data:
                  title: Wakey wakey!
                  card:
                    type: entities
                    entities:
                      #- group.all_wake
                      - entity: input_number.wake_percent
                        icon: none
                        name:  Percent
                      - entity: input_boolean.monday_wake
                        icon: none
                      - entity: input_datetime.monday_time
                        icon: none
                        name: '   -'                       
                      - entity: input_boolean.tuesday_wake
                        icon: none
                      - entity: input_datetime.tuesday_time
                        icon: none
                        name: '   -'                        
                      - entity: input_boolean.wednesday_wake
                        icon: none
                      - entity: input_datetime.wednesday_time
                        icon: none
                        name: '   -'                       
                      - entity: input_boolean.thursday_wake
                        icon: none
                      - entity: input_datetime.thursday_time
                        icon: none
                        name: '   -'                       
                      - entity: input_boolean.friday_wake
                        icon: none
                      - entity: input_datetime.friday_time
                        icon: none
                        name: '   -'                       
                      - entity: input_boolean.saturday_wake
                        icon: none
                      - entity: input_datetime.saturday_time
                        icon: none
                        name: '   -'                       
                      - entity: input_boolean.sunday_wake
                        icon: none
                      - entity: input_datetime.sunday_time
                        icon: none
                        name: '   -'                       
                  deviceID:
                    - this
                    - dashboard
 
  
                
#####################             Sensors             #######################
            - entity: sensor.outside_temperature
              suffix: ""
              style:
                top: 10%
                left: 83%
                '--paper-item-icon-color': 'rgba(255,255,255,0.7'
                --mdc-icon-size: 2vmax
              type: state-icon     
              tap_action:
                action: more-info       
            - entity: sensor.outside_temperature
              suffix: ""
              style:
                top: 14%
                left: 83%
                color: 'rgba(255,255,255,0.7)'
                text-seize: 1vmax
              type: state-label     
              tap_action:
                action: more-info    
             
            - entity: sensor.outside_humidity
              suffix: ""
              style:
                top: 20%
                left: 83%
                '--paper-item-icon-color': 'rgba(255,255,255,0.7'
                --mdc-icon-size: 2vmax
              type: state-icon     
              tap_action:
                action: more-info       
            - entity: sensor.outside_humidity
              suffix: ""
              style:
                top: 24%
                left: 83%
                color: 'rgba(255,255,255,0.7)'
                text-seize: 1vmax
              type: state-label     
              tap_action:
                action: more-info 
                
            - entity: sensor.lux
              suffix: ""
              style:
                top: 30%
                left: 83%
                '--paper-item-icon-color': 'rgba(255,255,255,0.7'
                --mdc-icon-size: 2vmax
              type: state-icon     
              icon: "mdi:weather-sunny"
              tap_action:
                action: more-info       
            - entity: sensor.lux
              suffix: ""
              style:
                top: 34%
                left: 83%
                color: 'rgba(255,255,255,0.7)'
                text-seize: 1vmax
              type: state-label     
              tap_action:
                action: more-info    
#########################    DAY/NIGHT TEST    #########################
            - type: custom:slider-entity-row
              entity: input_number.daylight_tester
              name: Offset
              style:
                color: 'rgba(255,255,255,0.7)'
                top: 40%
                left: 83%
                width: 10%
              full_row: true
              hide_state: true
########################################################################## 
            - entity: sensor.inside_temperature
              suffix: ""
              style:
                top: 78.5%
                left: 20.5%
                '--paper-item-icon-color': 'rgba(255,255,255,0.7'
                --mdc-icon-size: 2vmax
              type: state-icon     
              tap_action:
                action: more-info       
            - entity: sensor.inside_temperature
              suffix: ""
              style:
                top: 82.5%
                left: 20.5%
                color: 'rgba(255,255,255,0.7)'
                text-seize: 1vmax
              type: state-label     
              tap_action:
                action: more-info    
             
            - entity: sensor.inside_humidity
              suffix: ""
              style:
                top: 78.5%
                left: 26.5%
                '--paper-item-icon-color': 'rgba(255,255,255,0.7'
                --mdc-icon-size: 2vmax
              type: state-icon     
              tap_action:
                action: more-info       
            - entity: sensor.inside_humidity
              suffix: ""
              style:
                top: 82.5%
                left: 26.5%
                color: 'rgba(255,255,255,0.7)'
                text-seize: 1vmax
              type: state-label     
              tap_action:
                action: more-info 
            - entity: binary_sensor.living_room_pir_2
              style:
                align-items: center
                background-color: 'rgba(255,255,255,0.6)'
                border-radius: 100%
                box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                display: flex
                justify-content: center                
                --mdc-icon-size: 2vmax
                height: 2.5vmax
                width: 2.5vmax
                left: 23%        
                top: 49%
              tap_action:
                action: more-info
              type: state-icon             

        

#############################################################################################################################################
#                                                                                                                                           #
#                                                                   VACUUM CLEANER                                                          #
#                                                                                                                                           #
#############################################################################################################################################               

  - title: Cleaning
    icon: 'mdi:robot-vacuum'
    panel: true
    background: 'rgba(42, 46, 48, 1)'
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: 'custom:card-templater'
                entities:
                  - vacuum.roborock_s5_max
                card:
                  type: picture-elements
                  image: "/local/1604233684166.jpg"
                  elements:
                    - type: state-label
                      entity: vacuum.roborock_s5_max
                      style:
                        left: 0
                        right: 0
                        bottom: 0
                        background-color: "rgba(0, 0, 0, 0.3)"
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      title: Battery
                      icon_template: '{{ state_attr("vacuum.roborock_s5_max", "battery_icon") }}'
                      style:
                        right: 171px
                        bottom: 0
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: state-label
                      title: Battery Level
                      entity: sensor.roborock_s5_max_battery
                      style:
                        right: 120px
                        bottom: 0px
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      title: Locate Vacuum
                      icon: 'mdi:map-marker'
                      style:
                        right: 90px
                        bottom: 0
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      title: Clean First Floor
                      icon: 'mdi:broom'
                      tap_action:
                        action: call-service
                        service: mqtt.publish
                        service_data:
                          payload: 1
                          topic: /nodered/vacuum_first_floor
                      style:
                        right: 0
                        bottom: 0
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      title: Return To Base
                      icon: 'mdi:home-map-marker'
                      tap_action:
                        action: call-service
                        service: vacuum.return_to_base
                        service_data:
                          entity_id: vacuum.roborock_s5_max
                      style:
                        right: 45px
                        bottom: 0
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: state-label
                      entity: sensor.roborock_s5_max_last_cleaned
                      prefix: 'Last ran '
                      suffix: ' ago'
                      style:
                        background-color: "rgba(0, 0, 0, 0.3)"
                        bottom: 85%
                        padding: 8px
                        font-size: 16px
                        line-height: 2px
                        color: white
                        transform: translate(0%,0%)
                    - type: state-label
                      prefix: "Ran "
                      suffix: "x"
                      entity: sensor.roborock_s5_max_lifetime_cleaning_count
                      style:
                        background-color: "rgba(0, 0, 0, 0.3)"
                        bottom: 85%
                        right: 0px
                        padding: 8px
                        font-size: 16px
                        line-height: 2px
                        color: white
                        transform: translate(0%,0%)
                        width: 25%
                    - type: state-label
                      prefix: "Ran for "
                      suffix: " hrs"
                      entity: sensor.roborock_s5_max_lifetime_cleaning_time
                      style:
                        background-color: "rgba(0, 0, 0, 0.3)"
                        bottom: 72%
                        right: 0px
                        padding: 8px
                        font-size: 16px
                        line-height: 2px
                        color: white
                        transform: translate(0%,0%)
                        width: 25%
                    - type: state-label
                      entity: sensor.roborock_s5_max_lifetime_cleaned_area
                      prefix: "Cleaned "
                      style:
                        background-color: "rgba(0, 0, 0, 0.3)"
                        bottom: 59%
                        right: 0px
                        padding: 8px
                        font-size: 16px
                        line-height: 2px
                        color: white
                        transform: translate(0%,0%)
                        width: 25%
              - type: 'custom:hui-element'  
                card_type: 'picture-elements'
                entity: vacuum.roborock_s5_max
                image: '/local/floorplan/apartment-all-light.png'
                style: |
                    ha-card:first-child {
                      background: transparent;
                      left: 0%;
                      width: 100%;   
                      height: 110%;
                      margin-top: -2%;
                    }
                elements:
                  - type: image
                    entity: camera.xiaomi_cloud_map_extractor
                    camera_image: camera.xiaomi_cloud_map_extractor
                    camera_refresh_interval: 2
                    style: 
                        transform: rotate(180deg) scale(1.36)
                        mix-blend-mode: lighten
                        width: 100%
                        height: 100% 
                        top: 25.5%
                        left: -3.7%
                    tap_action:
                      action: none 
                  - type: state-icon
                    entity: vacuum.roborock_s5_max
                    icon: 'mdi:robot-vacuum'
                    style:
                      align-items: center
                      background-color: 'rgba(255,255,255,0.6)'
                      border-radius: 100%
                      box-shadow: '0px 0px 28px 0px rgba(0,0,0,0.39)'
                      display: flex
                      justify-content: center                
                      --mdc-icon-size: 2vmax
                      height: 2.5vmax
                      width: 2.5vmax
                      left: 58.5%        
                      top: 86.5%
                    tap_action:
                      action: more-info   
          - type: horizontal-stack
            cards:
                - type: picture-elements
                  image: /local/side_brush.png
                  elements:
                    - type: state-label
                      entity: sensor.roborock_s4_side_brush_remaining
                      title: '% Remaining Until Side Brush Should Be Replaced'
                      style:
                        font-size: 30px
                        color: orange
                        left: 0px
                        right: 0px
                        bottom: 0px
                        background-color: "rgba(0, 0, 0, 0.3)"
                        transform: translate(0%,0%)
                    - type: state-label
                      title: Hours Remaining Until Side Brush Should Be Replaced
                      entity: sensor.roborock_s4_side_brush_hrs_remaining
                      suffix: ' left'
                      style:
                        right: 0px
                        bottom: 0px
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      icon: mdi:restart
                      title: Reset Hours
                      tap_action:
                        action: call-service
                        service: vacuum.send_command
                        service_data:
                          entity_id: vacuum.roborock_s4
                          command: reset_consumable
                          params: ['side_brush_work_time']
                        confirmation:
                          text: Are you sure you want to reset the hours remaining counter for replacing the side brush?
                      style:
                        top: 0px
                        right: 0px
                        padding: 7px
                        transform: translate(0%,0%)
                - type: picture-elements
                  image: /local/main_brush.png
                  elements:
                    - type: state-label
                      title: '% Remaining Until Main Brush Should Be Replaced'
                      entity: sensor.roborock_s4_main_brush_remaining
                      style:
                        font-size: 30px
                        color: orange
                        left: 0px
                        right: 0px
                        bottom: 0px
                        background-color: "rgba(0, 0, 0, 0.3)"
                        transform: translate(0%,0%)
                    - type: state-label
                      title: 'Hours Remaining Until Main Brush Should Be Replaced'
                      entity: sensor.roborock_s4_main_brush_hrs_remaining
                      suffix: ' left'
                      style:
                        right: 0px
                        bottom: 0px
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      icon: mdi:restart
                      title: Reset Hours
                      tap_action:
                        action: call-service
                        service: vacuum.send_command
                        service_data:
                          entity_id: vacuum.roborock_s4
                          command: reset_consumable
                          params: ['main_brush_work_time']
                        confirmation:
                          text: Are you sure you want to reset the hours remaining counter for replacing the main brush?
                      style:
                        top: 0px
                        right: 0px
                        padding: 7px
                        transform: translate(0%,0%)

                - type: picture-elements
                  image: /local/sensors.png
                  elements:
                    - type: state-label
                      entity: sensor.roborock_s4_sensors_remaining
                      title:  "% Remaining Until Sensors Should Be Cleaned"
                      style:
                        font-size: 30px
                        color: orange
                        left: 0px
                        right: 0px
                        bottom: 0px
                        background-color: "rgba(0, 0, 0, 0.3)"
                        transform: translate(0%,0%)
                    - type: state-label
                      title:  "Hours Remaining Until Sensors Should Be Cleaned"
                      entity: sensor.roborock_s4_sensors_hrs_remaining
                      suffix: ' left'
                      style:
                        right: 0px
                        bottom: 0px
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      icon: mdi:restart
                      title: Reset Hours
                      tap_action:
                        action: call-service
                        service: vacuum.send_command
                        service_data:
                          entity_id: vacuum.roborock_s4
                          command: reset_consumable
                          params: ['sensor_dirty_time']
                        confirmation:
                          text: Are you sure you want to reset the hours remaining counter for cleaning the sensors?
                      style:
                        top: 0px
                        right: 0px
                        padding: 7px
                        transform: translate(0%,0%)
                - type: picture-elements
                  image: /local/filter.png
                  elements:
                    - type: state-label
                      title: '% Remaining Until Filter Should Be Replaced'
                      entity: sensor.roborock_s4_filter_remaining
                      style:
                        font-size: 30px
                        color: orange
                        left: 0px
                        right: 0px
                        bottom: 0px
                        background-color: "rgba(0, 0, 0, 0.3)"
                        transform: translate(0%,0%)
                    - type: state-label
                      title: 'Hours Remaining Until Filter Should Be Replaced'
                      entity: sensor.roborock_s4_filter_hrs_remaining
                      suffix: ' left'
                      style:
                        right: 0px
                        bottom: 0px
                        padding: 10px
                        font-size: 16px
                        line-height: 16px
                        color: white
                        transform: translate(0%,0%)
                    - type: icon
                      icon: mdi:restart
                      title: Reset Hours
                      tap_action:
                        action: call-service
                        service: vacuum.send_command
                        service_data:
                          entity_id: vacuum.roborock_s4
                          command: reset_consumable
                          params: ['filter_work_time']
                        confirmation:
                          text: Are you sure you want to reset the hours remaining counter for replacing the filter?
                      style:
                        top: 0px
                        right: 0px
                        padding: 7px
                        transform: translate(0%,0%)             
            
              
#############################################################################################################################################
#                                                                                                                                           #
#                                                   All Devices (Entities) Homekit Style View                                               #
#                                                                                                                                           #
#############################################################################################################################################

  - title: All Devices Kiosk        
    icon: 'mdi:home'
    panel: true
    cards:
      - type: picture-elements    
        image: /local/transparent.png
        style: |
          ha-card {
            background-image: url("/local/floorplan/apartment-all-light-blurred.png");
            background-size: 100%;
            background-repeat: no-repeat;
            background-color: rgba(42,46,48,1);
            color: rgba(255, 255, 255, 0.85);
            margin-top: -2%;
            left: 0%;
            min-height: 110%;
            overflow: scroll;
          }
        elements:
      
            #################################################################
            #                                                               #
            #                     Homekit Styled Card:                      #
            #         https://github.com/DBuit/Homekit-panel-card           #
            #                                                               #
            #################################################################
            
          - enableColumns: true
            popup:
              brightnessHeight: 350px
              brightnessWidth: 130px
              scenesInARow: 2
              switchHeight: 300px
              switchWidth: 110px
              type: 'custom:homekit-card'
              style: |
                :host {
                  --tile-width: 100px;
                  --tile-height: 100px;
                  --tile-width-mobile: 80px;
                  --tile-height-mobile: 80px;
                  backdrop-filter: blur(10px);
                }
            rows:
              - row: 1
                columns:
                  - column: 1
                    entities:
                      - entities:
                          - entity: group.all_lights
                            icon: 'mdi:lamp'
                            tap_action:
                              action: call-service
                              service: script.turn_on
                              service_data:
                                entity_id: script.off_lights   
                          - entity: group.all_blinds
                            icon: 'mdi:blinds'                          
                            tap_action:
                              action: call-service
                              service: script.turn_on
                              service_data:
                                entity_id: script.close_blinds                      
                          - entity: group.all_devices
                            icon: 'mdi:home'     
                            tap_action:
                              action: call-service
                              service: script.turn_on
                              service_data:  
                                entity_id: script.off_all
                          - entity: vacuum.roborock_s5_max
                            icon: 'mdi:robot-vacuum'
                            name: Rob the Robot
                          - entity: input_boolean.holiday
                            icon: 'mdi:beach'
                            name: Holiday
                            tap_action:
                              action: toggle 
                              entity: input_boolean.holiday
                        title: Home
                    tileOnRow: 5   
                  - column: 2
                    entities:
                      - entities:
                          - entity: sensor.outside_temperature
                            icon: 'mdi:thermometer-lines'
                            tap_action: 
                              action: more-info
                              entity: sensor.outside_temperature
                          - entity: sensor.outside_humidity
                            icon: 'mdi:water-percent'
                            tap_action: 
                              action: more-info
                              entity: sensor.outside_humidity
                          - entity: sensor.lux
                            icon: 'mdi:weather-sunny'
                            tap_action: 
                              action: more-info
                              entity: sensor.lux
                        title: Outside
                    tileOnRow: 3      
              - row: 2  
                columns:
                  - column: 1
                    entities:
                      - entities:
                          - entity: light.graeme_s_lamp
                            icon: 'mdi:lamp'
                          - entity: light.carol_s_lamp
                            icon: 'mdi:lamp'
                          - entity: switch.cristo_lamp
                            icon: 'mdi:lamp'
                          - entity: cover.sonoff_1000d67323
                            icon: 'mdi:blinds'
                          - entity: sensor.inside_temperature
                            icon: 'mdi:thermometer-lines'
                            tap_action: 
                              action: more-info
                          - entity: sensor.inside_humidity
                            icon: 'mdi:water-percent'
                            tap_action: 
                              action: more-info
                              entity: sensor.inside_humidity
                          - entity: binary_sensor.living_room_pir_2
                            icon: 'mdi:run'
                            tap_action: 
                              action: more-info
                              entity: binary_sensor.living_room_pir_2
                        title: Living Room
                    tileOnRow: 7
              - row: 3   
                columns:
                  - column: 1
                    entities:
                      - entities:
                          - entity: cover.sonoff_1000d66ac3
                            icon: 'mdi:blinds'
                            
                        title: Bedroom
                    tileOnRow: 1
                  - column: 2
                    entities:
                      - entities:
                          - entity: cover.sonoff_1000d66886
                            icon: 'mdi:blinds'
                        title: Kitchen
                    tileOnRow: 1
            statePositionTop: true
            style:
              height: 90%
              left: 50%
              top: 50%
              width: 90%
            type: 'custom:homekit-card'
            

#############################################################################################################################################
#                                                                                                                                           #
#                                                   Media View                                               #
#                                                                                                                                           #
#############################################################################################################################################              

  - title: Media kiosk
    icon: 'mdi:play-box'
    id: kiosk_media
    panel: true
    background: 'rgba(42, 46, 48, 1)'
    cards:
 
###################   config-template-card    #####################
 

      - type: "custom:config-template-card"
        entities:
          - media_player.living_room_tv


        card:    
####################    TV LAYOUT    #########################
          type: 'custom:hui-element'  
          card_type: 'picture-elements'
          image: /local/tv.png
          style: |
            ha-card:first-child {
              background: transparent;

              left: 0%;
              width: 100%;   
              height: 100%;
            }
          elements:
            - type: custom:mini-media-player
              entity: media_player.living_room_tv
              icon: mdi:google-chrome
              group: true
              artwork: cover
              info: scroll
              volume_stateless: true
              idle_view:
                  after: 2
                  when_idle: true
                  when_paused: false
                  when_standby: true
              hide:
                volume: false
                source: false
                power_state: false
                artwork_border: false
                runtime: false
              style: |
                  :host {
                  background: rgba(0, 0, 0, 0)  !important;
                  left: 61.35%;
                  top: 37.25%;
                  width: 51.9%;
                  }
                  .mmp-player__core {
                      margin-bottom: 41% !important;
                  }
                  #sliderContainer {
                      width: 25% !important;
                  }
              scale: 1.5
              mini-media-player-base-color: 'rgba(255,255,255,0.7)'
              mini-media-player-icon-color: 'rgba(255,255,255,0.7)'

    


              


#############################################################################################################################################
#                                                                                                                                           #
#                                                                       Data View                                                           #
#                                                                                                                                           #
#############################################################################################################################################

  - title: Data Kiosk        
    icon: 'mdi:chart-line'
    panel: true
    background: 'rgba(42, 46, 48, 1)'
    cards:
      - type: vertical-stack        
        cards:    
          - type: horizontal-stack        
            cards:
                ######### ROW ONE ##########
              - type: custom:mini-graph-card
                entities:
                  - sensor.outside_temperature
                line_color: var(--accent-color)
                line_width: 4
                font_size: 75     
                show:
                    extrema: true
                    points: false
                color_thresholds:
                    - color: '#4dd2ff'
                      value: 10
                    - color: '#ffa31a'
                      value: 20
                    - color: '#ff1a1a'
                      value: 30
                style: |
                    ha-card {
                      background-color: rgba(255,255,255,0);
                      color: rgba(255,255,255,0.8);
                      margin-left: 4px !important;
                    }
                    ha-card .icon {
                      color: rgba(255,255,255,0.8);
                    }
                    .graph__labels {
                        background-color: rgba(255,255,255,0);
                    }
                    .graph__labels > span {
                        background: none !important;
                    }
              - type: custom:mini-graph-card
                entities:
                  - sensor.outside_humidity
                line_width: 4
                font_size: 75
                show:
                    extrema: true
                    points: false
                color_thresholds:
                    - color: '#def0ff'
                      value: 30
                    - color: '#87c6fa'
                      value: 50   
                    - color: '#0079eb'
                      value: 70   
                style: |
                    ha-card {
                      background-color: rgba(255,255,255,0);
                      color: rgba(255,255,255,0.8);
                    }
                    ha-card .icon {
                      color: rgba(255,255,255,0.8);
                    }
                    .graph__labels {
                        background-color: rgba(255,255,255,0);
                    }
                    .graph__labels > span {
                        background: none !important;
                    }
              - type: custom:mini-graph-card
                entities:
                  - sensor.lux
                line_color: '#e74c3c'
                line_width: 4
                font_size: 75
                icon: 'mdi:weather-sunny'
                show:
                    extrema: true
                    points: false    
                color_thresholds:
                    - color: '#000000'
                      value: 0
                    - color: '#fff4d9'
                      value: 2000                
                style: |
                    ha-card {
                      background-color: rgba(255,255,255,0);
                      color: rgba(255,255,255,0.8);
                      margin-right: 4px !important;
                    }
                    ha-card .icon {
                      color: rgba(255,255,255,0.8);
                    }
                    .graph__labels {
                        background-color: rgba(255,255,255,0);
                    }
                    .graph__labels > span {
                        background: none !important;
                    }
            ######### ROW TWO ##########
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                entities:
                  - sensor.inside_temperature
                line_color: var(--accent-color)
                line_width: 4
                font_size: 75     
                show:
                    extrema: true
                    points: false
                color_thresholds:
                    - color: '#4dd2ff'
                      value: 18
                    - color: '#ffa31a'
                      value: 20
                    - color: '#ff1a1a'
                      value: 22
                style: |
                    ha-card {
                      background-color: rgba(255,255,255,0);
                      color: rgba(255,255,255,0.8);
                      margin-left: 4px !important;
                    }
                    ha-card .icon {
                      color: rgba(255,255,255,0.8);
                    }
                    .graph__labels {
                        background-color: rgba(255,255,255,0);
                    }
                    .graph__labels > span {
                        background: none !important;
                    }
              - type: custom:mini-graph-card
                entities:
                  - sensor.inside_humidity
                line_width: 4
                font_size: 75
                show:
                    extrema: true
                    points: false
                color_thresholds:
                    - color: '#def0ff'
                      value: 40
                    - color: '#87c6fa'
                      value: 50   
                    - color: '#0079eb'
                      value: 60    
                style: |
                    ha-card {
                      background-color: rgba(255,255,255,0);
                      color: rgba(255,255,255,0.8);
                    }
                    ha-card .icon {
                      color: rgba(255,255,255,0.8);
                    }
                    .graph__labels {
                        background-color: rgba(255,255,255,0);
                    }
                    .graph__labels > span {
                        background: none !important;
                    }
              - type: custom:mini-graph-card
                entities:
                  - sensor.portfolio
                line_width: 4
                font_size: 75
                show:
                    extrema: true
                    points: false
                color_thresholds:
                    - color: '#000000'
                      value: 2000
                    - color: '#FF0000'
                      value: 0       
                style: |
                    ha-card {
                      background-color: rgba(255,255,255,0);
                      color: rgba(255,255,255,0.8);
                      margin-right: 4px !important;
                    }
                    ha-card .icon {
                      color: rgba(255,255,255,0.8);
                    }
                    .graph__labels {
                        background-color: rgba(255,255,255,0);
                    }
                    .graph__labels > span {
                        background: none !important;
                    }


       
##########################    DEBUG PAGE    ####################################              
              
  - title: DEBUG
    icon: 'mdi:bug'
    id: kiosk_media
    panel: true
    background: 'rgba(42, 46, 48, 1)'
    cards:              
          ####################   DEBUG TEXT    #########################          
      - type: markdown
        style:
           background: 'rgba(0, 0, 0, 1)'
        content: |
            
            
            #Robo: {{states.vacuum.roborock_s5_max.state}}
            
            TV: {{states.input_boolean.television.state}}
            Media Player - Living Room TV: {{states.media_player.living_room_tv.state}}
            Random: {{states.sensor.tv_colour.state}}
            

            Living room pos: {{states.cover.sonoff_1000d67323.attributes.current_position | float}}
            Bedroom pos: {{states.sensor.bedroom_position.state}}
                        
            Living Room: {{states.sensor.living_room_brightness.state}}
            Bedroom: {{states.sensor.bedroom_brightness.state}}
            Kitchen: {{states.sensor.kitchen_brightness.state}}         
